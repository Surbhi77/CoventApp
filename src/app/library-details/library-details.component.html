<!-- <section class="banner_bars py-5" style="background: url(./assets/images/library-01.jpg); background-repeat: no-repeat;background-size: cover;background-position: initial;">
    <div class="container">
       <div class="row align-items-center">
           <div class="col-md-12 col-12 order-md-1 order-2 text-center">
              <h1 *ngIf="deviceDetails && deviceDetails.device_name" class="feature_title">{{deviceDetails.device_name}}</h1>
           </div>
        </div> 
    </div>
</section> -->
<!-- <section class="py-4 cates_bars">
    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <a *ngIf="deviceDetails&&deviceDetails.category_name"  class="categotes">{{deviceDetails.category_name}} <i class="far fa-folder-open"></i></a>
            </div>
            <div class="col-sm-6 justify-content-end d-flex align-items-center">
                
                
            </div>
        </div>
    </div>
</section> -->
<section class="lib py-5">
    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <!-- <img [src]="assetBaseUrl+deviceDetails.device_image[0]" class="img-fluid"> -->
                <img src="./assets/images/anna-shvets.jpg" class="img-fluid w-100">
            </div>

            <div class="col-sm-6">
                <div class="details">
                  <div class="d-flex justify-content-between align-items-center pb-3">
                    <h1 *ngIf="deviceDetails && deviceDetails.device_name" class="feature_title">{{deviceDetails.device_name}}</h1>
                    <div class="rattings">
                      <ngb-rating [max]="5" [(rate)]="currentRate" [readonly]="true"></ngb-rating>
                    </div>
                  </div>
                    
                    <a *ngIf="deviceDetails&&deviceDetails.category_name"  class="categotes">{{deviceDetails.category_name}} <i class="far fa-folder-open"></i></a>
                    <p *ngIf="deviceDetails && deviceDetails.device_description" [innerHtml]="deviceDetails.device_description"></p>

                    <a  class="categotes mr-4" data-toggle="modal" (click)="open(mymodal)">Review <i class="far fa-edit"></i></a>
                <a  class="categotes" (click)="openQuestion(quesModal)" data-toggle="modal" data-target="#myModal">Add a Questions <i class="far fa-question-circle"></i></a>
                </div>
            </div>  
        </div>

        <div class="row py-5">
            <div class="col-sm-12">
                <h1>Device Specifications</h1>
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_ac_powered">
                  <p>Ac Powered : {{(deviceDetails.device_ac_powered == 1)?'Yes':'No'}}</p>
                </ng-container>
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_autoclavable">
                  <p>Device Autoclavable : {{(deviceDetails.device_autoclavable == 1)?'Yes':'No'}}</p>
                </ng-container> 
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_battery_powered">
                  <p>Battery Powered : {{(deviceDetails.device_battery_powered == 1)?'Yes':'No'}}</p>
                </ng-container>
                
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_reusable">
                  <p>Device Reusable : {{(deviceDetails.device_reusable == 1)?'Yes':'No'}}</p>
                </ng-container>
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_characterstics">
                  <p>Device Characterstics : {{deviceDetails.device_characterstics}}</p>
                </ng-container> 
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_standard_compilance">
                  <p>Device Standard Compliance : {{deviceDetails.device_standard_compilance}}</p>
                </ng-container> 
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_clinical_stage">
                  <p>Device Clinical Stage : {{deviceDetails.device_clinical_stage}}</p>
                </ng-container>
                
                
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_design_file">
                  <p>Device Design File : <a target="_blank" [href]="deviceDetails.device_design_file">{{deviceDetails.device_design_file}}</a></p>
                </ng-container>
                
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_development_stage">
                  <p>Device Development Stage : {{deviceDetails.device_development_stage}}</p>
                </ng-container>
                
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_innovator_type">
                  <p>Device Innovator Type : {{deviceDetails.device_innovator_type}}</p>
                </ng-container>
                
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_manufactures">
                  <p>Device Manufacturers : {{deviceDetails.device_manufactures}}</p>
                </ng-container>
                
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_materials">
                  <p>Device Manufacturers : <a target="_blank" [href]="assetBaseUrl+deviceDetails.device_materials">View</a></p>
                </ng-container>
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_power_consumption">
                  <p>Device Power Consumption : {{deviceDetails.device_power_consumption}} Watts</p>
                </ng-container>
                
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_project_link">
                  <p>Device Project Link : <a target="_blank" [href]="deviceDetails.device_project_link">{{deviceDetails.device_project_link}}</a></p>
                </ng-container>

                <ng-container *ngIf="deviceDetails&&deviceDetails.device_regulatory_approvals">
                  <p>Regulatory Approvals : {{deviceDetails.device_regulatory_approvals}}</p>
                </ng-container>

                <ng-container *ngIf="deviceDetails&&deviceDetails.device_regulatory_stage">
                  <p>Regulatory Stage : {{deviceDetails.device_regulatory_stage}}</p>
                </ng-container>

                <ng-container *ngIf="deviceDetails&&deviceDetails.device_related_publications">
                  <p>Related Publications : <a target="_blank" [href]="deviceDetails.device_related_publications">{{deviceDetails.device_related_publications}}</a></p>
                </ng-container>
                
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_videos">
                  <p>Device Videos : </p>
                  <iframe width="560" height="315" [src]="safeURL" 
                  frameborder="0" 
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen></iframe>
                  
                </ng-container>

                <ng-container *ngIf="deviceDetails && deviceDetails.device_unit_cost">
                  <p>Unit Cost : {{deviceDetails.device_unit_cost}} $</p>
                </ng-container>

                
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_required_investment">
                  <p>Required Investment : {{deviceDetails.device_required_investment}} $</p>
                </ng-container>

                <ng-container *ngIf="deviceDetails&&deviceDetails.device_test_data">
                  <p>Device Test Data : <a [href]="deviceDetails.device_test_data">{{deviceDetails.device_test_data}}</a>  </p>
                </ng-container>
                
                <ng-container *ngIf="deviceDetails&&deviceDetails.device_training_document">
                  <p>Device Training Document : <a [href]="deviceDetails.device_training_document">{{deviceDetails.device_training_document}}</a>  </p>
                </ng-container>

                <ng-container *ngIf="deviceDetails&&deviceDetails.device_usage_instruction">
                  <p>Device Usage Instruction : <a [href]="assetBaseUrl+deviceDetails.device_usage_instruction">View</a>  </p>
                </ng-container>
                

                

                
                
            </div>
        </div>
    </div>
</section>

<section id="review" class="pb-5">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <h1 class="review_titles">Reviews</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                

                <!-- <form action="/action_page.php" class="pt-4">
                    <div class="form-group">
                      <label for="uname">Review Title:</label>
                      <input type="text" class="form-control" id="uname" name="uname" required>
                    </div>
                    <div class="form-group py-3">
                      <label for="pwd">Review comment:</label>
                      <textarea class="form-control" rows="5" id="comment" required></textarea>
                    </div>

                    <button type="submit" class="btn btn-custom">Submit</button>
                  </form> -->

                  <div class="reviews">
                    <div *ngFor="let item of reviewList" class="d-flex blockquote review-item">
                     
                      <div class="col-md-2 text-center">
                        <img class="rounded-circle reviewer" src="http://standaloneinstaller.com/upload/avatar.png">
                        <div class="caption">
                          <small>by <a >{{item.user_name}}</a></small>
                        </div>
                  
                      </div>
                      <div class="col-md-10">
                        <h4>{{item.title}}</h4>
                        <div class="ratebox">
                            <div class="rattings">
                              <ngb-rating [max]="5" [(rate)]="item.ratings" [readonly]="false"></ngb-rating>
                            </div>
                        </div>
                        <p class="review-text">
                          {{item.desccription}}
                        </p>
                  
                        <small class="review-date">{{item.created_at|date}}</small>
                      </div>                          
                    </div>  

                    <!-- <div class="d-flex blockquote review-item">
                        <div class="col-md-2 text-center">
                          <img class="rounded-circle reviewer" src="http://standaloneinstaller.com/upload/avatar.png">
                          <div class="caption">
                            <small>by <a href="#joe">Joe</a></small>
                          </div>
                    
                        </div>
                        <div class="col-md-10">
                          <h4>My awesome review</h4>
                          <div class="ratebox">
                              <div class="rattings">
                                  <i class="fas fa-star"></i>
                                  <i class="fas fa-star"></i> 
                                  <i class="fas fa-star"></i>
                                  <i class="fas fa-star"></i>
                                  <i class="far fa-star"></i>
                              </div>
                          </div>
                          <p class="review-text">My awesome review. My awesome review. My awesome review. My awesome review. My awesome review. My awesome review. My awesome review. My awesome review. My awesome review. My awesome review. My awesome review. </p>
                    
                          <small class="review-date">March 26, 2017</small>
                        </div>                          
                      </div>   -->
                  </div>
            </div>

            <!-- <div class="col-sm-4">
                <img src="./assets/images/markus-winkler.jpg" class="img-fluid rounded">
            </div> -->
        </div>
    </div>
</section>

<section class="mb-5">
    <!-- Accordion -->
	<div class="container" id="accordion-style-1">
			<div class="row">
				<div class="col-12">
					<h1 class="text-green mb-4 text-left">Questions and Answers</h1>
				</div>
				<div class="col-12 mx-auto">
					<div class="accordion" id="accordionExample">
						<div *ngFor="let item of quesList;let i=index" class="card">
							<div class="card-header" [id]="'heading'+i">
								<h5 class="mb-0">
							<button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" [attr.data-target]="'#collapse'+i" aria-expanded="true" [attr.aria-controls]="'collapse'+i">
							  <!--<i class="fa fa-amazon main"></i>--> <i class="fa fa-angle-double-right mr-3"></i>{{item.question}}
							</button>
						  </h5>
							</div>

							<div [id]="'collapse'+i" [ngClass]="(i==0)?'collapse show fade':'collapse fade'"  [attr.aria-labelledby]="'heading'+i" data-parent="#accordionExample">
								<div class="card-body">
									{{(item.answer && item.answer!='')?item.answer:'Awaiting answer from innovator'}}
								</div>
							</div>
						</div>
						
					</div>
				</div>	
			</div>
	</div>
<!-- .// Accordion -->
</section>




  <ng-template #quesModal let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Add Review</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="quesForm">
          
            <p>Question</p>
           
            <div class="form-group">
              <textarea formControlName="question" rows="5" class="form-control"></textarea>
            </div>
       
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" [disabled]="!quesForm.valid" (click)="modal.close('Save click')">Add Review</button>
    </div>
  </ng-template>

  <ng-template #mymodal let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Add Review</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="form">
          
            <p>Ratings</p>
            <div class="rattings">
              <ngb-rating [max]="5" [(rate)]="reviewStars" [readonly]="false"></ngb-rating>
            </div>
            <p>Review Title</p>
            <div class="form-group">
              <input type="text" formControlName="title" class="form-control">
            </div>
            <p>Review Comments</p>
            <div class="form-group">
              <textarea formControlName="review" rows="5" class="form-control"></textarea>
            </div>
       
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" [disabled]="!form.valid||reviewStars==0" (click)="modal.close('Save click')">Add Review</button>
    </div>
  </ng-template>
